[build]
builder = "DOCKERFILE"

[deploy]
startCommand = "echo 'Specify service in Railway UI'"

[[services]]
name = "WorkSlot"
root = "backend"
# No build/start command needed, Dockerfile handles it
healthcheckPath = "/api/public/provider/status" 
healthcheckTimeout = 100
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

[[services]]
name = "zealous-surprise"
root = "frontend"
# Force start command as UI override is failing and Dockerfile detection is flaky
startCommand = "npx -y serve -s dist -l $PORT --single"
healthcheckPath = "/"
restartPolicyType = "ON_FAILURE"
